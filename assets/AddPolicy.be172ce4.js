import{a as C,Q as p}from"./QCard.cac198ca.js";import{g as N,_ as T,Q as g}from"./plugin-vue_export-helper.8ecfd9c8.js";import{c as Q,l as U,Q as E}from"./QBtn.c05b83e7.js";import{c as B,r as w,F as k,C as M,D as R,o as j,h as H,g as O,A as F,d as K,a1 as L,H as I,I as Y,O as z,L as l,K as i,M as h,ad as G}from"./index.e8ba6233.js";import"./use-timeout.8ba04894.js";var J=B({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(d,{slots:u,emit:y}){const V=O(),o=w(null);let m=0;const n=[];function f(t){const c=typeof t=="boolean"?t:d.noErrorFocus!==!0,v=++m,D=(r,s)=>{y(`validation${r===!0?"Success":"Error"}`,s)},x=r=>{const s=r.validate();return typeof s.then=="function"?s.then(a=>({valid:a,comp:r}),a=>({valid:!1,comp:r,err:a})):Promise.resolve({valid:s,comp:r})};return(d.greedy===!0?Promise.all(n.map(x)).then(r=>r.filter(s=>s.valid!==!0)):n.reduce((r,s)=>r.then(()=>x(s).then(a=>{if(a.valid===!1)return Promise.reject(a)})),Promise.resolve()).catch(r=>[r])).then(r=>{if(r===void 0||r.length===0)return v===m&&D(!0),!0;if(v===m){const{comp:s,err:a}=r[0];if(a!==void 0&&console.error(a),D(!1,s),c===!0){const A=r.find(({comp:S})=>typeof S.focus=="function"&&U(S.$)===!1);A!==void 0&&A.comp.focus()}}return!1})}function e(){m++,n.forEach(t=>{typeof t.resetValidation=="function"&&t.resetValidation()})}function P(t){t!==void 0&&F(t);const c=m+1;f().then(v=>{c===m&&v===!0&&(d.onSubmit!==void 0?y("submit",t):(t==null?void 0:t.target)!==void 0&&typeof t.target.submit=="function"&&t.target.submit())})}function q(t){t!==void 0&&F(t),y("reset"),K(()=>{e(),d.autofocus===!0&&d.noResetFocus!==!0&&b()})}function b(){N(()=>{if(o.value===null)return;const t=o.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),c=>c.tabIndex!==-1);t==null||t.focus({preventScroll:!0})})}k(L,{bindComponent(t){n.push(t)},unbindComponent(t){const c=n.indexOf(t);c!==-1&&n.splice(c,1)}});let _=!1;return M(()=>{_=!0}),R(()=>{_===!0&&d.autofocus===!0&&b()}),j(()=>{d.autofocus===!0&&b()}),Object.assign(V.proxy,{validate:f,resetValidation:e,submit:P,reset:q,focus:b,getValidationComponents:()=>n}),()=>H("form",{class:"q-form",ref:o,onSubmit:P,onReset:q},Q(u.default))}});const W={data(){return{policyId:"",policyType:"",policyProvider:"",policyName:"",startDate:"",endDate:"",policyDuration:"",premiumAmount:"",paymentFrequency:"",sumAssured:"",policyStatus:"",policyTypes:["Life","Health","Term","Car","Home"],paymentFrequencies:["Monthly","Quarterly","Annually"]}},methods:{onSubmit(){console.log({policyId:this.policyId,policyType:this.policyType,policyProvider:this.policyProvider,policyName:this.policyName,startDate:this.startDate,endDate:this.endDate,policyDuration:this.policyDuration,premiumAmount:this.premiumAmount,paymentFrequency:this.paymentFrequency,sumAssured:this.sumAssured})}}},X={class:"q-pa-md"},Z={class:"q-mt-md",style:{display:"flex","justify-content":"flex-end"}};function $(d,u,y,V,o,m){const n=I("q-col"),f=I("q-row");return Y(),z("div",X,[l(C,{class:"q-pa-lg shadow-2 rounded-borders"},{default:i(()=>[u[10]||(u[10]=h("div",{class:"text-h6 q-mb-md"},"Submit Policy Information",-1)),l(J,{onSubmit:G(m.onSubmit,["prevent"]),class:"q-gutter-md"},{default:i(()=>[l(f,{class:"q-gutter-md"},{default:i(()=>[l(n,{cols:12,md:4},{default:i(()=>[l(p,{modelValue:o.policyId,"onUpdate:modelValue":u[0]||(u[0]=e=>o.policyId=e),label:"Policy ID/Number",filled:"",rules:[e=>!!e||"Policy ID/Number is required"]},null,8,["modelValue","rules"])]),_:1}),l(n,{cols:12,md:4},{default:i(()=>[l(g,{modelValue:o.policyType,"onUpdate:modelValue":u[1]||(u[1]=e=>o.policyType=e),options:o.policyTypes,label:"Policy Type",filled:"",rules:[e=>!!e||"Policy Type is required"]},null,8,["modelValue","options","rules"])]),_:1}),l(n,{cols:12,md:4},{default:i(()=>[l(p,{modelValue:o.policyProvider,"onUpdate:modelValue":u[2]||(u[2]=e=>o.policyProvider=e),label:"Policy Provider/Insurer",filled:"",rules:[e=>!!e||"Policy Provider is required"]},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(f,{class:"q-gutter-md"},{default:i(()=>[l(n,{cols:12,md:4},{default:i(()=>[l(p,{modelValue:o.policyName,"onUpdate:modelValue":u[3]||(u[3]=e=>o.policyName=e),label:"Policy Name",filled:"",rules:[e=>!!e||"Policy Name is required"]},null,8,["modelValue","rules"])]),_:1}),l(n,{cols:12,md:4},{default:i(()=>[l(p,{modelValue:o.startDate,"onUpdate:modelValue":u[4]||(u[4]=e=>o.startDate=e),label:"Policy Start Date",filled:"",type:"date"},null,8,["modelValue"])]),_:1}),l(n,{cols:12,md:4},{default:i(()=>[l(p,{modelValue:o.endDate,"onUpdate:modelValue":u[5]||(u[5]=e=>o.endDate=e),label:"Policy End Date",filled:"",type:"date"},null,8,["modelValue"])]),_:1})]),_:1}),l(f,{class:"q-gutter-md"},{default:i(()=>[l(n,{cols:12,md:4},{default:i(()=>[l(p,{modelValue:o.policyDuration,"onUpdate:modelValue":u[6]||(u[6]=e=>o.policyDuration=e),label:"Policy Duration (Years)",filled:"",type:"number"},null,8,["modelValue"])]),_:1}),l(n,{cols:12,md:4},{default:i(()=>[l(p,{modelValue:o.premiumAmount,"onUpdate:modelValue":u[7]||(u[7]=e=>o.premiumAmount=e),label:"Premium Amount",filled:"",type:"number"},null,8,["modelValue"])]),_:1}),l(n,{cols:12,md:4},{default:i(()=>[l(g,{modelValue:o.paymentFrequency,"onUpdate:modelValue":u[8]||(u[8]=e=>o.paymentFrequency=e),options:o.paymentFrequencies,label:"Premium Payment Frequency",filled:""},null,8,["modelValue","options"])]),_:1})]),_:1}),l(f,{class:"q-gutter-md"},{default:i(()=>[l(n,{cols:12,md:6},{default:i(()=>[l(p,{modelValue:o.sumAssured,"onUpdate:modelValue":u[9]||(u[9]=e=>o.sumAssured=e),label:"Sum Assured",filled:"",type:"number"},null,8,["modelValue"])]),_:1})]),_:1}),h("div",Z,[l(E,{label:"Submit",color:"primary",type:"submit",icon:"check","label-position":"right"})])]),_:1},8,["onSubmit"])]),_:1})])}var re=T(W,[["render",$],["__scopeId","data-v-1a600902"]]);export{re as default};
